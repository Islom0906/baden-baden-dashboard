"use strict";(self.webpackChunkbaden_baden=self.webpackChunkbaden_baden||[]).push([[411],{53016:(e,t,a)=>{a.d(t,{Z:()=>n});a(72791);var r=a(2409),s=a(49389),i=a(80184);const n=e=>{let{label:t,name:a,required:n,required_text:l,warning:d}=e;return(0,i.jsx)(r.Z.Item,{label:d?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:t}),(0,i.jsx)("br",{}),(0,i.jsx)("p",{children:d})]}):(0,i.jsx)("div",{children:t}),name:a,rules:[{required:n,message:l}],children:(0,i.jsx)(s.default,{})})}},83386:(e,t,a)=>{a.d(t,{Z:()=>n});a(72791);var r=a(2409),s=a(66920),i=a(80184);const n=e=>{let{label:t,name:a,required:n,required_text:l}=e;return(0,i.jsx)(r.Z.Item,{label:t,name:a,rules:[{required:n,message:l}],children:(0,i.jsx)(s.Z,{rows:4})})}},89411:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(72791),s=a(2409),i=a(50419),n=a(66106),l=a(30914),d=a(87309),u=a(91933),c=a(27169),o=a(72018),x=a(57689),_=a(16030),m=a(77221),p=a(53016),b=a(83386),h=a(80184);const Z={title_ru:"",title_uz:"",title_en:"",text_ru:"",text_uz:"",text_en:""},f=()=>{const[e]=s.Z.useForm(),t=(0,x.s0)(),{editId:a}=(0,_.v9)((e=>e.editData)),f=(0,_.I0)(),{mutate:j,data:q,isLoading:g,isSuccess:v}=(0,u.useMutation)((e=>{let{url:t,data:a}=e;return c.Z.postData(t,a)}),{onSuccess:()=>{i.ZP.success("Success")},onError:e=>{for(let t in e.response.data)i.ZP.error("".concat(t,": ").concat(e.response.data[t][0]))}}),{isLoading:z,data:S,refetch:y,isSuccess:F}=(0,u.useQuery)(["edit-feedback-title",a],(()=>c.Z.getDataByID("/feedback-section-title",a)),{enabled:!1}),{mutate:k,isLoading:E,data:w,isSuccess:I}=(0,u.useMutation)((e=>{let{url:t,data:a,id:r}=e;return c.Z.editData(t,a,r)}),{onSuccess:()=>{i.ZP.success("Success")},onError:e=>{for(let t in e.response.data)i.ZP.error("".concat(t,": ").concat(e.response.data[t][0]))}});(0,r.useEffect)((()=>{I&&f({type:m.Pb,payload:""}),(v||I)&&t("/feedback-title")}),[q,w]),(0,r.useEffect)((()=>{""!==a&&y()}),[a]),(0,r.useEffect)((()=>{""===a&&e.setFieldsValue(Z)}),[]),(0,r.useEffect)((()=>{if(F){const t={title_ru:S.title_ru,title_uz:S.title_uz,title_en:S.title_en,text_ru:S.text_ru,text_uz:S.text_uz,text_en:S.text_en};e.setFieldsValue(t)}}),[S]);return(0,r.useEffect)((()=>{const t=JSON.parse(localStorage.getItem("myFormValues"));t&&(t.images=[],e.setFieldsValue(t));const a=()=>{localStorage.setItem("myFormValues",JSON.stringify(e.getFieldsValue()))};return window.addEventListener("beforeunload",a),()=>{localStorage.removeItem("editDataId"),localStorage.removeItem("myFormValues"),window.removeEventListener("beforeunload",a)}}),[]),(0,h.jsx)("div",{children:g||z||E?(0,h.jsx)(o.QP,{}):(0,h.jsxs)(s.Z,{form:e,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:Z,onFinish:e=>{const t=new FormData;t.append("title_ru",e.title_ru),t.append("title_uz",e.title_uz),t.append("title_en",e.title_en),t.append("text_ru",e.text_ru),t.append("text_uz",e.text_uz),t.append("text_en",e.text_en),S?k({url:"/feedback-section-title",data:t,id:a}):j({url:"/feedback-section-title/",data:t})},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,h.jsxs)(n.Z,{gutter:20,children:[(0,h.jsx)(l.Z,{span:8,children:(0,h.jsx)(p.Z,{required:!0,required_text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",label:"Title Ru",name:"title_ru"})}),(0,h.jsx)(l.Z,{span:8,children:(0,h.jsx)(p.Z,{required:!0,required_text:"Sarlavha kiritish kerak",label:"Title Uz",name:"title_uz"})}),(0,h.jsx)(l.Z,{span:8,children:(0,h.jsx)(p.Z,{required:!0,required_text:"A title must be entered",label:"Title En",name:"title_en"})})]}),(0,h.jsxs)(n.Z,{gutter:20,children:[(0,h.jsx)(l.Z,{span:24,children:(0,h.jsx)(b.Z,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 Ru",name:"text_ru"})}),(0,h.jsx)(l.Z,{span:24,children:(0,h.jsx)(b.Z,{required:!0,required_text:"Qo'shimcha sarlavha talab qilinadi",label:"Tavsif Uz",name:"text_uz"})}),(0,h.jsx)(l.Z,{span:24,children:(0,h.jsx)(b.Z,{required:!0,required_text:"An additional title is required",label:"Description En",name:"text_en"})})]}),(0,h.jsx)(d.Z,{type:"primary",htmlType:"submit",style:{width:"100%",marginTop:"20px"},children:F?"Edit":"Add"})]})})}},30914:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a(89752).Z}}]);
//# sourceMappingURL=411.9687918e.chunk.js.map