"use strict";(self.webpackChunkbaden_baden=self.webpackChunkbaden_baden||[]).push([[455],{53016:(e,a,s)=>{s.d(a,{Z:()=>n});s(72791);var r=s(2409),t=s(49389),d=s(80184);const n=e=>{let{label:a,name:s,required:n,required_text:l,warning:i}=e;return(0,d.jsx)(r.Z.Item,{label:i?(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{children:a}),(0,d.jsx)("br",{}),(0,d.jsx)("p",{children:i})]}):(0,d.jsx)("div",{children:a}),name:s,rules:[{required:n,message:l}],children:(0,d.jsx)(t.default,{})})}},96185:(e,a,s)=>{s.r(a),s.d(a,{default:()=>f});var r=s(72791),t=s(2409),d=s(50419),n=s(66106),l=s(30914),i=s(49389),o=s(87309),u=s(91933),c=s(27169),m=s(72018),p=s(57689),h=s(16030),x=s(77221),j=s(53016),g=s(80184);const b=e=>{let{label:a,name:s,required:r,required_text:d}=e;return(0,g.jsx)(t.Z.Item,{label:a,name:s,rules:[{required:r,message:d},{validator:(e,a,s)=>{!a||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?s():s("Please enter a valid email address")}}],children:(0,g.jsx)(i.default,{})})},Z={address_ru:"",address_uz:"",address_en:"",phone1:"",phone2:"",email1:"",email2:"",map:"",instagram:"",facebook:"",telegram:""},f=()=>{const[e]=t.Z.useForm(),a=(0,p.s0)(),{editId:s}=(0,h.v9)((e=>e.editData)),f=(0,h.I0)(),{mutate:_,data:q,isLoading:k,isSuccess:F}=(0,u.useMutation)((e=>{let{url:a,data:s}=e;return c.Z.postData(a,s)}),{onSuccess:()=>{d.ZP.success("Success")},onError:e=>{for(let a in e.response.data)d.ZP.error("".concat(a,": ").concat(e.response.data[a][0]))}}),{isLoading:I,data:v,refetch:y,isSuccess:S}=(0,u.useQuery)(["edit-contact",s],(()=>c.Z.getDataByID("/about/contact",s)),{enabled:!1}),{mutate:E,isLoading:w,data:V,isSuccess:z}=(0,u.useMutation)((e=>{let{url:a,data:s,id:r}=e;return c.Z.editData(a,s,r)}),{onSuccess:()=>{d.ZP.success("Success")},onError:e=>{for(let a in e.response.data)d.ZP.error("".concat(a,": ").concat(e.response.data[a]))}});(0,r.useEffect)((()=>{z&&f({type:x.Pb,payload:""}),(F||z)&&a("/contact")}),[q,V]),(0,r.useEffect)((()=>{""!==s&&y()}),[s]),(0,r.useEffect)((()=>{""===s&&e.setFieldsValue(Z)}),[]),(0,r.useEffect)((()=>{if(S){const a={address_uz:v.address_uz,address_ru:v.address_ru,address_en:v.address_en,phone1:v.phone1,phone2:v.phone2,email1:v.email1,email2:v.email2,map:v.map,facebook:v.facebook.split("//")[1],instagram:v.instagram.split("//")[1],telegram:v.telegram.split("//")[1]};e.setFieldsValue(a)}}),[v]);return(0,r.useEffect)((()=>{const a=JSON.parse(localStorage.getItem("myFormValues"));a&&(a.images=[],e.setFieldsValue(a));const s=()=>{localStorage.setItem("myFormValues",JSON.stringify(e.getFieldsValue()))};return window.addEventListener("beforeunload",s),()=>{localStorage.removeItem("editDataId"),localStorage.removeItem("myFormValues"),window.removeEventListener("beforeunload",s)}}),[]),(0,g.jsx)("div",{children:k||I||w?(0,g.jsx)(m.QP,{}):(0,g.jsxs)(t.Z,{form:e,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:Z,onFinish:e=>{const a=new FormData;a.append("address_ru",e.address_ru),a.append("address_uz",e.address_uz),a.append("address_en",e.address_en),a.append("phone1",e.phone1),a.append("phone2",e.phone2),a.append("email1",e.email1),a.append("email2",e.email2),a.append("map",e.map),a.append("instagram","https://".concat(e.instagram)),a.append("facebook","https://".concat(e.facebook)),a.append("telegram","https://".concat(e.telegram)),v?E({url:"/about/contact",data:a,id:s}):_({url:"/about/contact/",data:a})},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,g.jsxs)(n.Z,{gutter:20,children:[(0,g.jsx)(l.Z,{span:8,children:(0,g.jsx)(j.Z,{required:!0,required_text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0430\u0434\u0440\u0435\u0441",label:"\u0410\u0434\u0440\u0435\u0441 Ru",name:"address_ru"})}),(0,g.jsx)(l.Z,{span:8,children:(0,g.jsx)(j.Z,{required:!0,required_text:"Address kiritish kerak",label:"Address Uz",name:"address_uz"})}),(0,g.jsx)(l.Z,{span:8,children:(0,g.jsx)(j.Z,{required:!0,required_text:"You must enter an address",label:"Address En",name:"address_en"})})]}),(0,g.jsxs)(n.Z,{gutter:20,children:[(0,g.jsx)(l.Z,{span:12,children:(0,g.jsx)(j.Z,{required:!0,required_text:"\u0412\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 1",name:"phone1"})}),(0,g.jsx)(l.Z,{span:12,children:(0,g.jsx)(j.Z,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 2",name:"phone2"})}),(0,g.jsx)(l.Z,{span:12,children:(0,g.jsx)(b,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 1",name:"email1"})}),(0,g.jsx)(l.Z,{span:12,children:(0,g.jsx)(b,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 2",name:"email2"})})]}),(0,g.jsx)(n.Z,{gutter:20,children:(0,g.jsx)(l.Z,{span:24,children:(0,g.jsx)(j.Z,{required:!0,required_text:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044e",label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044e",name:"map"})})}),(0,g.jsxs)(n.Z,{gutter:20,children:[(0,g.jsx)(l.Z,{span:12,children:(0,g.jsx)(t.Z.Item,{label:"Facebook",name:"facebook",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f Facebook"}],children:(0,g.jsx)(i.default,{addonBefore:"https://"})})}),(0,g.jsx)(l.Z,{span:12,children:(0,g.jsx)(t.Z.Item,{label:"Instagram",name:"instagram",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f Instagram"}],children:(0,g.jsx)(i.default,{addonBefore:"https://"})})})]}),(0,g.jsx)(n.Z,{gutter:20,children:(0,g.jsx)(l.Z,{span:24,children:(0,g.jsx)(t.Z.Item,{label:"Telegram",name:"telegram",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 Telegram"}],children:(0,g.jsx)(i.default,{addonBefore:"https://"})})})}),(0,g.jsx)(o.Z,{type:"primary",htmlType:"submit",style:{width:"100%",marginTop:"20px"},children:S?"Edit":"Add"})]})})}},30914:(e,a,s)=>{s.d(a,{Z:()=>r});const r=s(89752).Z}}]);
//# sourceMappingURL=455.98c31acf.chunk.js.map