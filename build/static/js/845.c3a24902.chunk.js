"use strict";(self.webpackChunkbaden_baden=self.webpackChunkbaden_baden||[]).push([[845],{53016:(e,t,s)=>{s.d(t,{Z:()=>l});s(72791);var a=s(2409),i=s(49389),r=s(80184);const l=e=>{let{label:t,name:s,required:l,required_text:n,warning:u}=e;return(0,r.jsx)(a.Z.Item,{label:u?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:t}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{children:u})]}):(0,r.jsx)("div",{children:t}),name:s,rules:[{required:l,message:n}],children:(0,r.jsx)(i.default,{})})}},83386:(e,t,s)=>{s.d(t,{Z:()=>l});s(72791);var a=s(2409),i=s(66920),r=s(80184);const l=e=>{let{label:t,name:s,required:l,required_text:n}=e;return(0,r.jsx)(a.Z.Item,{label:t,name:s,rules:[{required:l,message:n}],children:(0,r.jsx)(i.Z,{rows:4})})}},38845:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(72791),i=s(2409),r=s(50419),l=s(66106),n=s(30914),u=s(87309),d=s(91933),o=s(27169),c=s(72018),_=s(57689),b=s(16030),m=s(77221),x=s(53016),p=s(83386),h=s(80184);const Z={title_ru:"",title_uz:"",title_en:"",sub_title_ru:"",sub_title_uz:"",sub_title_en:""},j=()=>{const[e]=i.Z.useForm(),t=(0,_.s0)(),{editId:s}=(0,b.v9)((e=>e.editData)),j=(0,b.I0)(),{mutate:f,data:q,isLoading:g,isSuccess:S}=(0,d.useMutation)((e=>{let{url:t,data:s}=e;return o.Z.postData(t,s)}),{onSuccess:()=>{r.ZP.success("Success")},onError:e=>{for(let t in e.response.data)r.ZP.error("".concat(t,": ").concat(e.response.data[t][0]))}}),{isLoading:v,data:z,refetch:y,isSuccess:F}=(0,d.useQuery)(["edit-about-index",s],(()=>o.Z.getDataByID("/about/index-about-section",s)),{enabled:!1}),{mutate:E,isLoading:w,data:I,isSuccess:V}=(0,d.useMutation)((e=>{let{url:t,data:s,id:a}=e;return o.Z.editData(t,s,a)}),{onSuccess:()=>{r.ZP.success("Success")},onError:e=>{for(let t in e.response.data)r.ZP.error("".concat(t,": ").concat(e.response.data[t][0]))}});(0,a.useEffect)((()=>{V&&j({type:m.Pb,payload:""}),(S||V)&&t("/about-index")}),[q,I]),(0,a.useEffect)((()=>{""!==s&&y()}),[s]),(0,a.useEffect)((()=>{""===s&&e.setFieldsValue(Z)}),[]),(0,a.useEffect)((()=>{if(F){const t={title_ru:z.title_ru,title_uz:z.title_uz,title_en:z.title_en,sub_title_ru:z.sub_title_ru,sub_title_uz:z.sub_title_uz,sub_title_en:z.sub_title_en};e.setFieldsValue(t)}}),[z]);return(0,a.useEffect)((()=>{const t=JSON.parse(localStorage.getItem("myFormValues"));t&&(t.images=[],e.setFieldsValue(t));const s=()=>{localStorage.setItem("myFormValues",JSON.stringify(e.getFieldsValue()))};return window.addEventListener("beforeunload",s),()=>{localStorage.removeItem("editDataId"),localStorage.removeItem("myFormValues"),window.removeEventListener("beforeunload",s)}}),[]),(0,h.jsx)("div",{children:g||v||w?(0,h.jsx)(c.QP,{}):(0,h.jsxs)(i.Z,{form:e,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:Z,onFinish:e=>{const t=new FormData;t.append("title_ru",e.title_ru),t.append("title_uz",e.title_uz),t.append("title_en",e.title_en),t.append("sub_title_ru",e.sub_title_ru),t.append("sub_title_uz",e.sub_title_uz),t.append("sub_title_en",e.sub_title_en),z?E({url:"/about/index-about-section",data:t,id:s}):f({url:"/about/index-about-section/",data:t})},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,h.jsxs)(l.Z,{gutter:20,children:[(0,h.jsx)(n.Z,{span:8,children:(0,h.jsx)(x.Z,{required:!0,required_text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",label:"Title Ru",name:"title_ru"})}),(0,h.jsx)(n.Z,{span:8,children:(0,h.jsx)(x.Z,{required:!0,required_text:"Sarlavha kiritish kerak",label:"Title Uz",name:"title_uz"})}),(0,h.jsx)(n.Z,{span:8,children:(0,h.jsx)(x.Z,{required:!0,required_text:"A title must be entered",label:"Title En",name:"title_en"})})]}),(0,h.jsxs)(l.Z,{gutter:20,children:[(0,h.jsx)(n.Z,{span:24,children:(0,h.jsx)(p.Z,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",label:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a Ru",name:"sub_title_ru"})}),(0,h.jsx)(n.Z,{span:24,children:(0,h.jsx)(p.Z,{required:!0,required_text:"Qo'shimcha sarlavha talab qilinadi",label:"Qo'shimcha Sarlavha Uz",name:"sub_title_uz"})}),(0,h.jsx)(n.Z,{span:24,children:(0,h.jsx)(p.Z,{required:!0,required_text:"An additional title is required",label:"Sub Title En",name:"sub_title_en"})})]}),(0,h.jsx)(u.Z,{type:"primary",htmlType:"submit",style:{width:"100%",marginTop:"20px"},children:F?"Edit":"Add"})]})})}},30914:(e,t,s)=>{s.d(t,{Z:()=>a});const a=s(89752).Z}}]);
//# sourceMappingURL=845.c3a24902.chunk.js.map