"use strict";(self.webpackChunkbaden_baden=self.webpackChunkbaden_baden||[]).push([[907],{53016:(e,t,i)=>{i.d(t,{Z:()=>n});i(72791);var l=i(2409),a=i(49389),s=i(80184);const n=e=>{let{label:t,name:i,required:n,required_text:r,warning:d}=e;return(0,s.jsx)(l.Z.Item,{label:d?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:t}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{children:d})]}):(0,s.jsx)("div",{children:t}),name:i,rules:[{required:n,message:r}],children:(0,s.jsx)(a.default,{})})}},83386:(e,t,i)=>{i.d(t,{Z:()=>n});i(72791);var l=i(2409),a=i(66920),s=i(80184);const n=e=>{let{label:t,name:i,required:n,required_text:r}=e;return(0,s.jsx)(l.Z.Item,{label:t,name:i,rules:[{required:n,message:r}],children:(0,s.jsx)(a.Z,{rows:4})})}},90861:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var l=i(72791),a=i(2409),s=i(50419),n=i(66106),r=i(30914),d=i(93086),u=i(87309),o=i(91933),c=i(27169),_=i(72018),v=i(57689),b=i(16030),m=i(77221),h=i(53016),p=i(83386),x=i(80184);const Z={video:[],title_uz:"",title_ru:"",title_en:"",sub_title_ru:"",sub_title_uz:"",sub_title_en:""},f=()=>{const[e]=a.Z.useForm(),t=(0,v.s0)(),{editId:i}=(0,b.v9)((e=>e.editData)),f=(0,b.I0)(),[j,g]=(0,l.useState)([]),{mutate:q,data:w,isLoading:F,isSuccess:S}=(0,o.useMutation)((e=>{let{url:t,data:i}=e;return c.Z.postData(t,i)}),{onSuccess:()=>{s.ZP.success("Success")},onError:e=>{for(let t in e.response.data)s.ZP.error("".concat(t,": ").concat(e.response.data[t][0]))}}),{isLoading:z,data:y,refetch:E,isSuccess:I}=(0,o.useQuery)(["edit-about-info",i],(()=>c.Z.getDataByID("/about/index-content-section",i)),{enabled:!1}),{mutate:D,isLoading:L,data:V,isSuccess:P}=(0,o.useMutation)((e=>{let{url:t,data:i,id:l}=e;return c.Z.editData(t,i,l)}),{onSuccess:()=>{s.ZP.success("Success")},onError:e=>{for(let t in e.response.data)s.ZP.error("".concat(t,": ").concat(e.response.data[t][0]))}});(0,l.useEffect)((()=>{P&&f({type:m.Pb,payload:""}),(S||P)&&t("/about-video")}),[w,V]),(0,l.useEffect)((()=>{""!==i&&E()}),[i]),(0,l.useEffect)((()=>{""===i&&e.setFieldsValue(Z)}),[]),(0,l.useEffect)((()=>{const t=[{uid:null===y||void 0===y?void 0:y.id,name:null===y||void 0===y?void 0:y.id,status:"done",url:null===y||void 0===y?void 0:y.video}];if(I){const i={title_uz:null===y||void 0===y?void 0:y.title_uz,title_ru:null===y||void 0===y?void 0:y.title_ru,title_en:null===y||void 0===y?void 0:y.title_en,sub_title_ru:null===y||void 0===y?void 0:y.sub_title_ru,sub_title_uz:null===y||void 0===y?void 0:y.sub_title_uz,sub_title_en:null===y||void 0===y?void 0:y.sub_title_en,video:t};g(t),e.setFieldsValue(i)}}),[y]);(0,l.useEffect)((()=>{const t=JSON.parse(localStorage.getItem("myFormValues"));t&&(t.images=[],e.setFieldsValue(t));const i=()=>{localStorage.setItem("myFormValues",JSON.stringify(e.getFieldsValue()))};return window.addEventListener("beforeunload",i),()=>{localStorage.removeItem("editDataId"),localStorage.removeItem("myFormValues"),window.removeEventListener("beforeunload",i)}}),[]);return(0,x.jsx)("div",{children:F||z||L?(0,x.jsx)(_.QP,{}):(0,x.jsxs)(a.Z,{form:e,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:Z,onFinish:e=>{var t;const l=new FormData;var a;(l.append("title_uz",e.title_uz),l.append("title_ru",e.title_ru),l.append("title_en",e.title_en),l.append("sub_title_ru",e.sub_title_ru),l.append("sub_title_uz",e.sub_title_uz),l.append("sub_title_en",e.sub_title_en),null!==(t=j[0])&&void 0!==t&&t.originFileObj)&&l.append("video",null===(a=j[0])||void 0===a?void 0:a.originFileObj);I?D({url:"/about/index-content-section",data:l,id:i}):q({url:"/about/index-content-section/",data:l})},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,x.jsxs)(n.Z,{gutter:20,children:[(0,x.jsx)(r.Z,{span:24,children:(0,x.jsx)(h.Z,{required:!0,required_text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a Ru",name:"title_ru"})}),(0,x.jsx)(r.Z,{span:24,children:(0,x.jsx)(h.Z,{required:!0,required_text:"Sarlavha kiritish kerak",label:"Sarlavha Uz",name:"title_uz"})}),(0,x.jsx)(r.Z,{span:24,children:(0,x.jsx)(h.Z,{required:!0,required_text:"A title is required",label:"Title En",name:"title_en"})})]}),(0,x.jsxs)(n.Z,{gutter:20,children:[(0,x.jsx)(r.Z,{span:24,children:(0,x.jsx)(p.Z,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",label:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a Ru",name:"sub_title_ru"})}),(0,x.jsx)(r.Z,{span:24,children:(0,x.jsx)(p.Z,{required:!0,required_text:"Qo'shimcha sarlavha talab qilinadi",label:"Qo'shimcha Sarlavha Uz",name:"sub_title_uz"})}),(0,x.jsx)(r.Z,{span:24,children:(0,x.jsx)(p.Z,{required:!0,required_text:"An additional title is required",label:"Sub Title En",name:"sub_title_en"})})]}),(0,x.jsx)(n.Z,{gutter:20,children:(0,x.jsx)(r.Z,{span:12,children:(0,x.jsx)(a.Z.Item,{label:"\u0412\u0438\u0434\u0435\u043e",name:"video",rules:[{required:!0,message:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u0438\u0434\u0435\u043e"}],children:(0,x.jsx)(d.Z,{maxCount:0,fileList:j,listType:"picture-card",onChange:t=>{let{fileList:i}=t;g(i),e.setFieldsValue({video:i})},onPreview:async e=>{let t=e.url;t||(t=await new Promise((t=>{const i=new FileReader;i.readAsDataURL(e.originFileObj),i.onload=()=>t(i.result)})));const i=new Image;i.src=t;const l=window.open(t);null===l||void 0===l||l.document.write(i.outerHTML)},beforeUpload:()=>!1,children:j.length>0?"":"Upload"})})})}),(0,x.jsx)(u.Z,{type:"primary",htmlType:"submit",style:{width:"100%",marginTop:"20px"},children:I?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})})}},82622:(e,t,i)=>{i.d(t,{Z:()=>d});var l=i(1413),a=i(72791);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var n=i(54291),r=function(e,t){return a.createElement(n.Z,(0,l.Z)((0,l.Z)({},e),{},{ref:t,icon:s}))};r.displayName="DeleteOutlined";const d=a.forwardRef(r)}}]);
//# sourceMappingURL=907.910303a2.chunk.js.map